<div class="w-100">

  <div class="row">
    <div class="col-3 px-5">

      <mat-form-field>
        <input matInput class="w-100" (keyup)="applyFilter($event.target.value)" placeholder="Filter">
      </mat-form-field>
    </div>
    <div></div>
    <div class="col-9 p-1">
      <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
        <!-- Checkbox Column -->

        <ng-container matColumnDef="select">
          <th mat-header-cell *matHeaderCellDef>
            <mat-checkbox (change)="$event ? masterToggle() : null"
                          [checked]="selection.hasValue() && isAllSelected()"
                          [indeterminate]="selection.hasValue() && !isAllSelected()">
            </mat-checkbox>
          </th>
          <td mat-cell *matCellDef="let row">
            <mat-checkbox (click)="$event.stopPropagation()"
                          (change)="getCheckBoxEvent($event, selection, row)"
                          [checked]="selection.isSelected(row)">
            </mat-checkbox>
          </td>
        </ng-container>

        <!-- Title Column -->
        <ng-container matColumnDef="SN">
          <th mat-header-cell *matHeaderCellDef> SN</th>
          <td mat-cell *matCellDef="let element; let y = index">
            <span class="ml-2">{{y+1}}</span>
          </td>
        </ng-container>

        <!-- Title Column -->
        <ng-container matColumnDef="Title">
          <th mat-header-cell *matHeaderCellDef> Title</th>
          <td mat-cell *matCellDef="let element">
            <a mat-button   color="primary" [href]="element.url" target="_blank">{{element.title}}</a>
          </td>
        </ng-container>


        <!-- Difficulty Column -->
        <ng-container matColumnDef="Difficulty">
          <th mat-header-cell style="width: 6% !important;" *matHeaderCellDef> Difficulty</th>

          <td mat-cell *matCellDef="let element">
            <mat-chip [selected]="true" (click)="applyFilter(element.difficultyLevel)" color="primary" style="min-height: 26px;font-size:11px">{{element.difficultyLevel}}</mat-chip>

          </td>
        </ng-container>

        <!-- Question Rating Column -->
        <ng-container matColumnDef="Rating">
          <th mat-header-cell *matHeaderCellDef> Rating</th>
          <td mat-cell *matCellDef="let element"> {{element.questionRating}}</td>
        </ng-container>


        <!-- Topic Tags Column -->
        <ng-container matColumnDef="Topic Tags">
          <th mat-header-cell style="width: 20% !important" class="mat-column-companyTags" *matHeaderCellDef> Topic Tags
          </th>

          <td mat-cell *matCellDef="let element">
            <mat-chip-list>
              <div *ngFor="let tag of element.topicTags">
                <mat-chip style="min-height: 26px;font-size:11px" (click)="applyFilter(tag.name)">{{tag.name}}</mat-chip>
              </div>
            </mat-chip-list>
          </td>
        </ng-container>

        <!-- Companies Tags Column -->
        <ng-container matColumnDef="Company Tags">
          <th mat-header-cell style="width: 20% !important" class="mat-column-companyTags" *matHeaderCellDef> Company Tags
          </th>
          <td mat-cell *matCellDef="let element">
            <mat-chip-list>
              <div *ngFor="let tag of element.companyTags">
                <mat-chip [selected]="true" (click)="applyFilter(tag.name)" color="accent" style="min-height: 26px;font-size:11px">{{tag.name}}</mat-chip>
              </div>
            </mat-chip-list>
          </td>
        </ng-container>
        <!-- Companies Tags Column -->
        <ng-container matColumnDef="Notes">
          <th mat-header-cell class="mat-column-companyTags" *matHeaderCellDef> Notes
          </th>
          <td mat-cell *matCellDef="let element">
            <button mat-raised-button (click)="openDialog()">
              <mat-icon>note</mat-icon>
            </button>

          </td>
        </ng-container>

        <tr class="p-5"  mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr class="p-5" mat-row *matRowDef="let row; columns: displayedColumns;"
            (click)="selection.toggle(row)">
        </tr>
      </table>
    </div>

  </div>


</div>
